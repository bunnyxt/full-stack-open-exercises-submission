{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Message.js","services/persons.js","App.js","index.js"],"names":["Filter","filterName","filterNameChangeHandler","value","onChange","PersonForm","newName","newNameChangeHandler","newNumber","newNumberChangeHandler","buttonClickHandler","type","onClick","Person","person","deleteButtonClickHandler","name","number","id","Persons","persons","map","key","Message","text","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilterName","messageText","setMessageText","messageType","setMessageType","personsToShow","filter","toLowerCase","startsWith","useEffect","personService","initialPersons","event","target","preventDefault","newPerson","personWithSameName","find","window","confirm","returnedPerson","setTimeout","catch","error","concat","personName","personId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bc9102e3.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filterName, filterNameChangeHandler }) =>\n  <div>\n    filter shown with <input value={filterName} onChange={filterNameChangeHandler} />\n  </div>\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({ newName, newNameChangeHandler, newNumber, newNumberChangeHandler, buttonClickHandler}) =>\n  <form>\n    <div>\n      name: <input value={newName} onChange={newNameChangeHandler} />\n    </div>\n    <div>\n      number: <input value={newNumber} onChange={newNumberChangeHandler} />\n    </div>\n    <div>\n      <button type=\"submit\" onClick={buttonClickHandler}>add</button>\n    </div>\n  </form>\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({ person, deleteButtonClickHandler }) =>\n  <div>\n    {person.name} {person.number}  <button id={person.id} name={person.name} onClick={deleteButtonClickHandler}>delete</button>\n  </div>\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, deleteButtonClickHandler }) => \n  persons.map(person => \n    <Person key={person.name} person={person} deleteButtonClickHandler={deleteButtonClickHandler} />\n  )\n\nexport default Persons\n","import React from 'react'\n\nconst Message = ({ text, type }) => {\n    if (text === null) {\n        return null;\n    }\n\n    return (\n        <div className={type}>\n            {text}\n        </div>\n    )\n}\n\nexport default Message\n","import axios from 'axios'\n// const baseUrl = 'https://morning-sierra-59398.herokuapp.com/api/persons'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n    .then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n    .then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n    .then(response => response.data)\n}\n\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { \n  getAll, \n  create, \n  update,\n  remove\n}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Message from './components/Message'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('');\n  const [filterName, setFilterName] = useState('');\n  const [messageText, setMessageText] = useState(null);\n  const [messageType, setMessageType] = useState('success');\n\n  const newNameChangeHandler = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const newNumberChangeHandler = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const filterNameChangeHandler = (event) => {\n    setFilterName(event.target.value);\n  };\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().startsWith(filterName.toLowerCase()));\n\n  const buttonClickHandler = (event) => {\n    event.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    };\n    const personWithSameName = persons.find(person => person.name === newName);\n    if (personWithSameName) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        personService\n          .update(personWithSameName.id, newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== personWithSameName.id ? person : returnedPerson));\n            setMessageType('success');\n            setMessageText(`Successfully update ${newPerson.name}!`);\n            setTimeout(() => {\n              setMessageText(null);\n            }, 2000)\n            setNewName('');\n            setNewNumber('');\n          })\n          .catch(error => {\n            setMessageType('error');\n            setMessageText(`Fail to update ${newPerson.name}! ${error.response.data.error}`);\n            setTimeout(() => {\n              setMessageText(null);\n            }, 2000)\n          })\n      }\n    } else {\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson));\n          setMessageType('success');\n          setMessageText(`Successfully add ${returnedPerson.name}!`);\n          setTimeout(() => {\n            setMessageText(null);\n          }, 2000)\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch(error => {\n          setMessageType('error');\n          setMessageText(`Fail to add ${newPerson.name}! ${error.response.data.error}`);\n          setTimeout(() => {\n            setMessageText(null);\n          }, 2000)\n        })\n    }\n  };\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons);\n      });\n  }, []);\n\n  const deleteButtonClickHandler = (event) => {\n    event.preventDefault();\n    const personName = event.target.name;\n    const personId = event.target.id;\n    if (window.confirm(`Delete ${personName} ?`)) {\n      personService\n        .remove(event.target.id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== personId));\n          setMessageType('success');\n          setMessageText(`Successfully delete ${personName}!`);\n          setTimeout(() => {\n            setMessageText(null);\n          }, 2000)\n        })\n        .catch(error => {\n          setMessageType('error');\n          setMessageText(`Fail to delete ${personName}! ${error}`);\n          setTimeout(() => {\n            setMessageText(null);\n          }, 2000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Message text={messageText} type={messageType} />\n      <Filter filterName={filterName} filterNameChangeHandler={filterNameChangeHandler} />\n      <h3>add a new</h3>\n      <PersonForm newName={newName} newNameChangeHandler={newNameChangeHandler} newNumber={newNumber} newNumberChangeHandler={newNumberChangeHandler} buttonClickHandler={buttonClickHandler} />\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} deleteButtonClickHandler={deleteButtonClickHandler} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}